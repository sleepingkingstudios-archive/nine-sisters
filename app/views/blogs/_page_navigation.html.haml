-# app/views/blogs/_page_navigation.html

- blog ||= @blog
- current_page ||= params[:page_id].to_i || 0
- max_pages ||= (@posts_count / 5.0).floor
- link_root = params[:tag] ? "/blog/tags/#{params[:tag]}/pages" : "/blog/pages"

%div
  %p.no-margin{ :style => "float: left; width: 25%;" }
    - if max_pages == current_page
      = lighten "First Page"
      |
      = lighten "Previous"
    - else
      = link_to "First Page", "#{link_root}/#{max_pages}"
      |
      = link_to "Previous", "#{link_root}/#{current_page + 1}"
  %p.no-margin{ :style => "float: right; text-align: right; width: 25%;" }
    - if 0 == current_page
      = lighten "Next"
      |
      = lighten "Latest Page"
    - else
      = link_to "Next", "#{link_root}/#{current_page - 1}"
      |
      = link_to "Latest Page", "#{link_root}/0"
  %p.no-margin{ :style => "text-align: center;" }
    = blog.title
  %br{ :style => "clear: both;" }
